{"version":3,"file":"get-request-logger.js","names":["getRequestLogger","defaultLogger","request","log","KAError","Errors","Internal"],"sources":["../../src/shared/get-request-logger.js"],"sourcesContent":["// @flow\nimport type {$Request} from \"express\";\nimport KAError from \"./ka-error.js\";\nimport {Errors} from \"./errors.js\";\nimport type {Logger, RequestWithLog} from \"./types.js\";\n\nexport const getRequestLogger = <TReq: RequestWithLog<$Request>>(\n    defaultLogger: ?Logger,\n    request?: TReq,\n): Logger => {\n    if (defaultLogger == null) {\n        if (request == null || request.log == null) {\n            throw new KAError(\"No logs available\", Errors.Internal);\n        }\n        return request.log;\n    }\n    return request != null && request.log != null ? request.log : defaultLogger;\n};\n"],"mappings":";;;;;;AAEA;AACA;AAAmC;;AAG5B,MAAMA,gBAAgB,GAAG,CAC5BC,aAAsB,EACtBC,OAAc,KACL;EACT,IAAID,aAAa,IAAI,IAAI,EAAE;IACvB,IAAIC,OAAO,IAAI,IAAI,IAAIA,OAAO,CAACC,GAAG,IAAI,IAAI,EAAE;MACxC,MAAM,IAAIC,gBAAO,CAAC,mBAAmB,EAAEC,cAAM,CAACC,QAAQ,CAAC;IAC3D;IACA,OAAOJ,OAAO,CAACC,GAAG;EACtB;EACA,OAAOD,OAAO,IAAI,IAAI,IAAIA,OAAO,CAACC,GAAG,IAAI,IAAI,GAAGD,OAAO,CAACC,GAAG,GAAGF,aAAa;AAC/E,CAAC;AAAC"}