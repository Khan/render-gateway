{"version":3,"sources":["../../src/shared/get-request-logger.js"],"names":["getRequestLogger","defaultLogger","request","log","KAError","Errors","Internal"],"mappings":";;;;;;;AAEA;;AACA;;;;AAGO,MAAMA,gBAAgB,GAAG,CAC5BC,aAD4B,EAE5BC,OAF4B,KAGnB;AACT,MAAID,aAAa,IAAI,IAArB,EAA2B;AACvB,QAAIC,OAAO,IAAI,IAAX,IAAmBA,OAAO,CAACC,GAAR,IAAe,IAAtC,EAA4C;AACxC,YAAM,IAAIC,gBAAJ,CAAY,mBAAZ,EAAiCC,eAAOC,QAAxC,CAAN;AACH;;AACD,WAAOJ,OAAO,CAACC,GAAf;AACH;;AACD,SAAOD,OAAO,IAAI,IAAX,IAAmBA,OAAO,CAACC,GAAR,IAAe,IAAlC,GAAyCD,OAAO,CAACC,GAAjD,GAAuDF,aAA9D;AACH,CAXM","sourcesContent":["// @flow\nimport type {$Request} from \"express\";\nimport KAError from \"./ka-error.js\";\nimport {Errors} from \"./errors.js\";\nimport type {Logger, RequestWithLog} from \"./types.js\";\n\nexport const getRequestLogger = <TReq: RequestWithLog<$Request>>(\n    defaultLogger: ?Logger,\n    request?: TReq,\n): Logger => {\n    if (defaultLogger == null) {\n        if (request == null || request.log == null) {\n            throw new KAError(\"No logs available\", Errors.Internal);\n        }\n        return request.log;\n    }\n    return request != null && request.log != null ? request.log : defaultLogger;\n};\n"],"file":"get-request-logger.js"}