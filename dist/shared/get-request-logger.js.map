{"version":3,"file":"get-request-logger.js","names":["getRequestLogger","defaultLogger","request","log","KAError","Errors","Internal"],"sources":["../../src/shared/get-request-logger.js"],"sourcesContent":["// @flow\nimport type {$Request} from \"express\";\nimport KAError from \"./ka-error.js\";\nimport {Errors} from \"./errors.js\";\nimport type {Logger, RequestWithLog} from \"./types.js\";\n\nexport const getRequestLogger = <TReq: RequestWithLog<$Request>>(\n    defaultLogger: ?Logger,\n    request?: TReq,\n): Logger => {\n    if (defaultLogger == null) {\n        if (request == null || request.log == null) {\n            throw new KAError(\"No logs available\", Errors.Internal);\n        }\n        return request.log;\n    }\n    return request != null && request.log != null ? request.log : defaultLogger;\n};\n"],"mappings":";;;;;;;AAEA;;AACA;;;;AAGO,MAAMA,gBAAgB,GAAG,CAC5BC,aAD4B,EAE5BC,OAF4B,KAGnB;EACT,IAAID,aAAa,IAAI,IAArB,EAA2B;IACvB,IAAIC,OAAO,IAAI,IAAX,IAAmBA,OAAO,CAACC,GAAR,IAAe,IAAtC,EAA4C;MACxC,MAAM,IAAIC,gBAAJ,CAAY,mBAAZ,EAAiCC,eAAOC,QAAxC,CAAN;IACH;;IACD,OAAOJ,OAAO,CAACC,GAAf;EACH;;EACD,OAAOD,OAAO,IAAI,IAAX,IAAmBA,OAAO,CAACC,GAAR,IAAe,IAAlC,GAAyCD,OAAO,CAACC,GAAjD,GAAuDF,aAA9D;AACH,CAXM"}