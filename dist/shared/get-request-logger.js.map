{"version":3,"file":"get-request-logger.js","names":["_kaError","_interopRequireDefault","require","_errors","obj","__esModule","default","getRequestLogger","defaultLogger","request","log","KAError","Errors","Internal","exports"],"sources":["../../src/shared/get-request-logger.js"],"sourcesContent":["// @flow\nimport type {$Request} from \"express\";\nimport KAError from \"./ka-error.js\";\nimport {Errors} from \"./errors.js\";\nimport type {Logger, RequestWithLog} from \"./types.js\";\n\nexport const getRequestLogger = <TReq: RequestWithLog<$Request>>(\n    defaultLogger: ?Logger,\n    request?: TReq,\n): Logger => {\n    if (defaultLogger == null) {\n        if (request == null || request.log == null) {\n            throw new KAError(\"No logs available\", Errors.Internal);\n        }\n        return request.log;\n    }\n    return request != null && request.log != null ? request.log : defaultLogger;\n};\n"],"mappings":";;;;;;AAEA,IAAAA,QAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,OAAA,GAAAD,OAAA;AAAmC,SAAAD,uBAAAG,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAG5B,MAAMG,gBAAgB,GAAGA,CAC5BC,aAAsB,EACtBC,OAAc,KACL;EACT,IAAID,aAAa,IAAI,IAAI,EAAE;IACvB,IAAIC,OAAO,IAAI,IAAI,IAAIA,OAAO,CAACC,GAAG,IAAI,IAAI,EAAE;MACxC,MAAM,IAAIC,gBAAO,CAAC,mBAAmB,EAAEC,cAAM,CAACC,QAAQ,CAAC;IAC3D;IACA,OAAOJ,OAAO,CAACC,GAAG;EACtB;EACA,OAAOD,OAAO,IAAI,IAAI,IAAIA,OAAO,CAACC,GAAG,IAAI,IAAI,GAAGD,OAAO,CAACC,GAAG,GAAGF,aAAa;AAC/E,CAAC;AAACM,OAAA,CAAAP,gBAAA,GAAAA,gBAAA"}