{"version":3,"file":"ka-error.js","names":["_extractError","require","_defineProperty","obj","key","value","_toPropertyKey","Object","defineProperty","enumerable","configurable","writable","arg","_toPrimitive","String","input","hint","prim","Symbol","toPrimitive","undefined","res","call","TypeError","Number","KAError","Error","constructor","message","kind","sourceError","name","extractError","exports","default"],"sources":["../../src/shared/ka-error.js"],"sourcesContent":["// @flow\nimport {extractError} from \"./extract-error.js\";\nimport type {ErrorKind, SimplifiedError} from \"./types.js\";\n\n/**\n * Error to be thrown and logged within KA code.\n *\n * This custom error supports error taxonomy.\n */\nexport default class KAError<TKind: ErrorKind> extends Error {\n    kind: TKind;\n    sourceError: ?SimplifiedError;\n\n    /**\n     * Construct a KAError instance.\n     *\n     * @param {string} message The error message.\n     * @param {TKind} kind The kind of error.\n     * @param {Error} [sourceError] The original error that spawned this one.\n     */\n    constructor(message: string, kind: TKind, sourceError: ?Error = null) {\n        super(message);\n\n        // Set the name so we get a nice error output, like\n        // KAInternalError\n        this.name = `KA${kind}Error`;\n\n        // The kind of error which could be used for categorization with\n        // other error sources that use the same error taxonomy.\n        this.kind = kind;\n\n        // If there is a source error that we're wrapping, we also want to\n        // unpack that and attach it for additional diagnostics.\n        if (sourceError != null) {\n            this.sourceError = extractError(sourceError);\n        }\n    }\n}\n"],"mappings":";;;;;;AACA,IAAAA,aAAA,GAAAC,OAAA;AAAgD,SAAAC,gBAAAC,GAAA,EAAAC,GAAA,EAAAC,KAAA,IAAAD,GAAA,GAAAE,cAAA,CAAAF,GAAA,OAAAA,GAAA,IAAAD,GAAA,IAAAI,MAAA,CAAAC,cAAA,CAAAL,GAAA,EAAAC,GAAA,IAAAC,KAAA,EAAAA,KAAA,EAAAI,UAAA,QAAAC,YAAA,QAAAC,QAAA,oBAAAR,GAAA,CAAAC,GAAA,IAAAC,KAAA,WAAAF,GAAA;AAAA,SAAAG,eAAAM,GAAA,QAAAR,GAAA,GAAAS,YAAA,CAAAD,GAAA,2BAAAR,GAAA,gBAAAA,GAAA,GAAAU,MAAA,CAAAV,GAAA;AAAA,SAAAS,aAAAE,KAAA,EAAAC,IAAA,eAAAD,KAAA,iBAAAA,KAAA,kBAAAA,KAAA,MAAAE,IAAA,GAAAF,KAAA,CAAAG,MAAA,CAAAC,WAAA,OAAAF,IAAA,KAAAG,SAAA,QAAAC,GAAA,GAAAJ,IAAA,CAAAK,IAAA,CAAAP,KAAA,EAAAC,IAAA,2BAAAK,GAAA,sBAAAA,GAAA,YAAAE,SAAA,4DAAAP,IAAA,gBAAAF,MAAA,GAAAU,MAAA,EAAAT,KAAA;AAGhD;AACA;AACA;AACA;AACA;AACe,MAAMU,OAAO,SAA2BC,KAAK,CAAC;EAIzD;AACJ;AACA;AACA;AACA;AACA;AACA;EACIC,WAAWA,CAACC,OAAe,EAAEC,IAAW,EAAEC,WAAmB,GAAG,IAAI,EAAE;IAClE,KAAK,CAACF,OAAO,CAAC;;IAEd;IACA;IAAA1B,eAAA;IAAAA,eAAA;IACA,IAAI,CAAC6B,IAAI,GAAI,KAAIF,IAAK,OAAM;;IAE5B;IACA;IACA,IAAI,CAACA,IAAI,GAAGA,IAAI;;IAEhB;IACA;IACA,IAAIC,WAAW,IAAI,IAAI,EAAE;MACrB,IAAI,CAACA,WAAW,GAAG,IAAAE,0BAAY,EAACF,WAAW,CAAC;IAChD;EACJ;AACJ;AAACG,OAAA,CAAAC,OAAA,GAAAT,OAAA"}