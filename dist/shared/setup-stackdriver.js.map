{"version":3,"file":"setup-stackdriver.js","names":["setupStackdriver","mode","options","debugAgent","Promise","resolve","then","_interopRequireWildcard","require","start","allowExpressions","profiler","exports"],"sources":["../../src/shared/setup-stackdriver.js"],"sourcesContent":["// @flow\nimport type {Runtime, CloudOptions} from \"./types.js\";\n\n/**\n * Setup stackdriver integrations.\n */\nexport const setupStackdriver = async (\n    mode: Runtime,\n    options: ?CloudOptions,\n): Promise<void> => {\n    if (mode !== \"production\") {\n        return;\n    }\n\n    if (options?.debugAgent) {\n        const debugAgent = await import(\"@google-cloud/debug-agent\");\n        debugAgent.start({allowExpressions: true});\n    }\n\n    if (options?.profiler) {\n        const profiler = await import(\"@google-cloud/profiler\");\n        profiler.start();\n    }\n};\n"],"mappings":";;;;;;;;AAGA;AACA;AACA;AACO,MAAMA,gBAAgB,GAAG,MAAAA,CAC5BC,IAAa,EACbC,OAAsB,KACN;EAChB,IAAID,IAAI,KAAK,YAAY,EAAE;IACvB;EACJ;EAEA,IAAIC,OAAO,aAAPA,OAAO,eAAPA,OAAO,CAAEC,UAAU,EAAE;IACrB,MAAMA,UAAU,GAAG,MAAAC,OAAA,CAAAC,OAAA,GAAAC,IAAA,OAAAC,uBAAA,CAAAC,OAAA,CAAa,2BAA2B,GAAC;IAC5DL,UAAU,CAACM,KAAK,CAAC;MAACC,gBAAgB,EAAE;IAAI,CAAC,CAAC;EAC9C;EAEA,IAAIR,OAAO,aAAPA,OAAO,eAAPA,OAAO,CAAES,QAAQ,EAAE;IACnB,MAAMA,QAAQ,GAAG,MAAAP,OAAA,CAAAC,OAAA,GAAAC,IAAA,OAAAC,uBAAA,CAAAC,OAAA,CAAa,wBAAwB,GAAC;IACvDG,QAAQ,CAACF,KAAK,EAAE;EACpB;AACJ,CAAC;AAACG,OAAA,CAAAZ,gBAAA,GAAAA,gBAAA"}